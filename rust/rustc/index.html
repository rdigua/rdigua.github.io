<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="//gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.59.0-DEV" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title> &middot; Jay Blog</title>

  
  <link type="text/css" rel="stylesheet" href="http://blog.jaytogo.com/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="http://blog.jaytogo.com/css/poole.css">
  <link type="text/css" rel="stylesheet" href="http://blog.jaytogo.com/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="http://blog.jaytogo.com/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  
</head>

  <body class=" ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="http://blog.jaytogo.com/"><h1>Jay Blog</h1></a>
      <p class="lead">
       learning rust, reviwe c, erp, javascript, blog, python 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="http://blog.jaytogo.com/">Home</a> </li>
        <li><a href="/rust/"> rust </a></li>
      </ul>
    </nav>

    <p>&copy; 2019. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1></h1>
  <time datetime=0001-01-01T00:00:00Z class="post-date">Mon, Jan 1, 0001</time>
  

<h1 id="rustc">Rustc</h1>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#what-is-rustc">https://doc.rust-lang.org/rustc/print.html#what-is-rustc</a>)</p>

<h1 id="what-is-rustc">What is rustc?</h1>

<p>Welcome to &ldquo;The rustc book&rdquo;!  <code>rustc</code>  is the compiler for the Rust programming language, provided by the project itself. Compilers take your source code and produce binary code, either as a library or executable.</p>

<p>Most Rust programmers don&rsquo;t invoke  <code>rustc</code>  directly, but instead do it through  <a href="https://doc.rust-lang.org/cargo/index.html">Cargo</a>. It&rsquo;s all in service of  <code>rustc</code>  though! If you want to see how Cargo calls  <code>rustc</code>, you can</p>

<p><code>$ cargo build --verbose</code></p>

<p>And it will print out each  <code>rustc</code>  invocation. This book can help you understand what each of these options does. Additionally, while most Rustaceans use Cargo, not all do: sometimes they integrate  <code>rustc</code>  into other build systems. This book should provide a guide to all of the options you&rsquo;d need to do so.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#basic-usage">https://doc.rust-lang.org/rustc/print.html#basic-usage</a>)</p>

<h2 id="basic-usage">Basic usage</h2>

<p>Let&rsquo;s say you&rsquo;ve got a little hello world program in a file  <code>hello.rs</code>:</p>

<p><code>fn main() {
    println!(&quot;Hello, world!&quot;);
}</code></p>

<p>To turn this source code into an executable, you can use  <code>rustc</code>:</p>

<p><code>$ rustc hello.rs
$ ./hello # on a *NIX
$ .\hello.exe # on Windows</code></p>

<p>Note that we only ever pass  <code>rustc</code>  the  <em>crate root</em>, not every file we wish to compile. For example, if we had a  <code>main.rs</code>  that looked like this:</p>

<p>`mod foo;</p>

<p>fn main() {
    foo::hello();
}`</p>

<p>And a  <code>foo.rs</code>  that had this:</p>

<p><code>pub fn hello() {
    println!(&quot;Hello, world!&quot;);
}</code></p>

<p>To compile this, we&rsquo;d run this command:</p>

<p><code>$ rustc main.rs</code></p>

<p>No need to tell  <code>rustc</code>  about  <code>foo.rs</code>; the  <code>mod</code>  statements give it everything that it needs. This is different than how you would use a C compiler, where you invoke the compiler on each file, and then link everything together. In other words, the  <em>crate</em>  is a translation unit, not a particular module.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#command-line-arguments">https://doc.rust-lang.org/rustc/print.html#command-line-arguments</a>)</p>

<h1 id="command-line-arguments">Command-line arguments</h1>

<p>Here&rsquo;s a list of command-line arguments to  <code>rustc</code>  and what they do.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a-h--help-get-help">https://doc.rust-lang.org/rustc/print.html#a-h--help-get-help</a>)</p>

<h2 id="h-help-get-help"><code>-h</code>/<code>--help</code>: get help</h2>

<p>This flag will print out help information for  <code>rustc</code>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a--cfg-configure-the-compilation-environment">https://doc.rust-lang.org/rustc/print.html#a--cfg-configure-the-compilation-environment</a>)</p>

<h2 id="cfg-configure-the-compilation-environment"><code>--cfg</code>: configure the compilation environment</h2>

<p>This flag can turn on or off various  <code>#[cfg]</code>  settings.</p>

<p>The value can either be a single identifier or two identifiers separated by  <code>=</code>.</p>

<p>For examples,  <code>--cfg 'verbose'</code>  or  <code>--cfg 'feature=&quot;serde&quot;'</code>. These correspond to  <code>#[cfg(verbose)]</code>  and  <code>#[cfg(feature = &quot;serde&quot;)]</code>  respectively.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a-l-add-a-directory-to-the-library-search-path">https://doc.rust-lang.org/rustc/print.html#a-l-add-a-directory-to-the-library-search-path</a>)</p>

<h2 id="l-add-a-directory-to-the-library-search-path"><code>-L</code>: add a directory to the library search path</h2>

<p>When looking for external crates, a directory passed to this flag will be searched.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a-l-link-the-generated-crate-to-a-native-library">https://doc.rust-lang.org/rustc/print.html#a-l-link-the-generated-crate-to-a-native-library</a>)</p>

<h2 id="l-link-the-generated-crate-to-a-native-library"><code>-l</code>: link the generated crate to a native library</h2>

<p>This flag allows you to specify linking to a specific native library when building a crate.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a--crate-type-a-list-of-types-of-crates-for-the-compiler-to-emit">https://doc.rust-lang.org/rustc/print.html#a--crate-type-a-list-of-types-of-crates-for-the-compiler-to-emit</a>)</p>

<h2 id="crate-type-a-list-of-types-of-crates-for-the-compiler-to-emit"><code>--crate-type</code>: a list of types of crates for the compiler to emit</h2>

<p>This instructs  <code>rustc</code>  on which crate type to build.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a--crate-name-specify-the-name-of-the-crate-being-built">https://doc.rust-lang.org/rustc/print.html#a--crate-name-specify-the-name-of-the-crate-being-built</a>)</p>

<h2 id="crate-name-specify-the-name-of-the-crate-being-built"><code>--crate-name</code>: specify the name of the crate being built</h2>

<p>This informs  <code>rustc</code>  of the name of your crate.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a--emit-emit-output-other-than-a-crate">https://doc.rust-lang.org/rustc/print.html#a--emit-emit-output-other-than-a-crate</a>)</p>

<h2 id="emit-emit-output-other-than-a-crate"><code>--emit</code>: emit output other than a crate</h2>

<p>Instead of producing a crate, this flag can print out things like the assembly or LLVM-IR.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a--print-print-compiler-information">https://doc.rust-lang.org/rustc/print.html#a--print-print-compiler-information</a>)</p>

<h2 id="print-print-compiler-information"><code>--print</code>: print compiler information</h2>

<p>This flag prints out various information about the compiler.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a-g-include-debug-information">https://doc.rust-lang.org/rustc/print.html#a-g-include-debug-information</a>)</p>

<h2 id="g-include-debug-information"><code>-g</code>: include debug information</h2>

<p>A synonym for  <code>-C debuginfo=2</code>, for more see  <a href="https://doc.rust-lang.org/rustc/codegen-options/index.html#debuginfo">here</a>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a-o-optimize-your-code">https://doc.rust-lang.org/rustc/print.html#a-o-optimize-your-code</a>)</p>

<h2 id="o-optimize-your-code"><code>-O</code>: optimize your code</h2>

<p>A synonym for  <code>-C opt-level=2</code>, for more see  <a href="https://doc.rust-lang.org/rustc/codegen-options/index.html#opt-level">here</a>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a-o-filename-of-the-output">https://doc.rust-lang.org/rustc/print.html#a-o-filename-of-the-output</a>)</p>

<h2 id="o-filename-of-the-output"><code>-o</code>: filename of the output</h2>

<p>This flag controls the output filename.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a--out-dir-directory-to-write-the-output-in">https://doc.rust-lang.org/rustc/print.html#a--out-dir-directory-to-write-the-output-in</a>)</p>

<h2 id="out-dir-directory-to-write-the-output-in"><code>--out-dir</code>: directory to write the output in</h2>

<p>The outputted crate will be written to this directory.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a--explain-provide-a-detailed-explanation-of-an-error-message">https://doc.rust-lang.org/rustc/print.html#a--explain-provide-a-detailed-explanation-of-an-error-message</a>)</p>

<h2 id="explain-provide-a-detailed-explanation-of-an-error-message"><code>--explain</code>: provide a detailed explanation of an error message</h2>

<p>Each error of  <code>rustc</code>&rsquo;s comes with an error code; this will print out a longer explanation of a given error.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a--test-build-a-test-harness">https://doc.rust-lang.org/rustc/print.html#a--test-build-a-test-harness</a>)</p>

<h2 id="test-build-a-test-harness"><code>--test</code>: build a test harness</h2>

<p>When compiling this crate,  <code>rustc</code>  will ignore your  <code>main</code>  function and instead produce a test harness.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a--target-select-a-target-triple-to-build">https://doc.rust-lang.org/rustc/print.html#a--target-select-a-target-triple-to-build</a>)</p>

<h2 id="target-select-a-target-triple-to-build"><code>--target</code>: select a target triple to build</h2>

<p>This controls which  <a href="https://doc.rust-lang.org/rustc/targets/index.html">target</a>  to produce.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a-w-set-lint-warnings">https://doc.rust-lang.org/rustc/print.html#a-w-set-lint-warnings</a>)</p>

<h2 id="w-set-lint-warnings"><code>-W</code>: set lint warnings</h2>

<p>This flag will set which lints should be set to the  <a href="https://doc.rust-lang.org/rustc/lints/levels.html#warn">warn level</a>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a-a-set-lint-allowed">https://doc.rust-lang.org/rustc/print.html#a-a-set-lint-allowed</a>)</p>

<h2 id="a-set-lint-allowed"><code>-A</code>: set lint allowed</h2>

<p>This flag will set which lints should be set to the  <a href="https://doc.rust-lang.org/rustc/lints/levels.html#allow">allow level</a>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a-d-set-lint-denied">https://doc.rust-lang.org/rustc/print.html#a-d-set-lint-denied</a>)</p>

<h2 id="d-set-lint-denied"><code>-D</code>: set lint denied</h2>

<p>This flag will set which lints should be set to the  <a href="https://doc.rust-lang.org/rustc/lints/levels.html#deny">deny level</a>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a-f-set-lint-forbidden">https://doc.rust-lang.org/rustc/print.html#a-f-set-lint-forbidden</a>)</p>

<h2 id="f-set-lint-forbidden"><code>-F</code>: set lint forbidden</h2>

<p>This flag will set which lints should be set to the  <a href="https://doc.rust-lang.org/rustc/lints/levels.html#forbid">forbid level</a>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a--cap-lints-set-the-most-restrictive-lint-level">https://doc.rust-lang.org/rustc/print.html#a--cap-lints-set-the-most-restrictive-lint-level</a>)</p>

<h2 id="cap-lints-set-the-most-restrictive-lint-level"><code>--cap-lints</code>: set the most restrictive lint level</h2>

<p>This flag lets you &lsquo;cap&rsquo; lints, for more,  <a href="https://doc.rust-lang.org/rustc/lints/levels.html#capping-lints">see here</a>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a-c--codegen-code-generation-options">https://doc.rust-lang.org/rustc/print.html#a-c--codegen-code-generation-options</a>)</p>

<h2 id="c-codegen-code-generation-options"><code>-C</code>/<code>--codegen</code>: code generation options</h2>

<p>This flag will allow you to set  <a href="https://doc.rust-lang.org/rustc/codegen-options/index.html">codegen options</a>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a-v--version-print-a-version">https://doc.rust-lang.org/rustc/print.html#a-v--version-print-a-version</a>)</p>

<h2 id="v-version-print-a-version"><code>-V</code>/<code>--version</code>: print a version</h2>

<p>This flag will print out  <code>rustc</code>&rsquo;s version.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a-v--verbose-use-verbose-output">https://doc.rust-lang.org/rustc/print.html#a-v--verbose-use-verbose-output</a>)</p>

<h2 id="v-verbose-use-verbose-output"><code>-v</code>/<code>--verbose</code>: use verbose output</h2>

<p>This flag, when combined with other flags, makes them produce extra output.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a--extern-specify-where-an-external-library-is-located">https://doc.rust-lang.org/rustc/print.html#a--extern-specify-where-an-external-library-is-located</a>)</p>

<h2 id="extern-specify-where-an-external-library-is-located"><code>--extern</code>: specify where an external library is located</h2>

<p>This flag allows you to pass the name and location of an external crate that will be linked into the crate you&rsquo;re buildling.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a--sysroot-override-the-system-root">https://doc.rust-lang.org/rustc/print.html#a--sysroot-override-the-system-root</a>)</p>

<h2 id="sysroot-override-the-system-root"><code>--sysroot</code>: Override the system root</h2>

<p>The &ldquo;sysroot&rdquo; is where  <code>rustc</code>  looks for the crates that come with the Rust distribution; this flag allows that to be overridden.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a--error-format-control-how-errors-are-produced">https://doc.rust-lang.org/rustc/print.html#a--error-format-control-how-errors-are-produced</a>)</p>

<h2 id="error-format-control-how-errors-are-produced"><code>--error-format</code>: control how errors are produced</h2>

<p>This flag lets you control the format of errors.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#a--color-configure-coloring-of-output">https://doc.rust-lang.org/rustc/print.html#a--color-configure-coloring-of-output</a>)</p>

<h2 id="color-configure-coloring-of-output"><code>--color</code>: configure coloring of output</h2>

<p>This flag lets you control color settings of the output.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#lints">https://doc.rust-lang.org/rustc/print.html#lints</a>)</p>

<h1 id="lints">Lints</h1>

<p>In software, a &ldquo;lint&rdquo; is a tool used to help improve your source code. The Rust compiler contains a number of lints, and when it compiles your code, it will also run the lints. These lints may produce a warning, an error, or nothing at all, depending on how you&rsquo;ve configured things.</p>

<p>Here&rsquo;s a small example:</p>

<p><code>$ cat main.rs
fn main() {
    let x = 5;
}
$ rustc main.rs
warning: unused variable: `x`
 --&gt; main.rs:2:9
  |
2 |     let x = 5;
  |         ^
  |
  = note: #[warn(unused_variables)] on by default
  = note: to avoid this warning, consider using `_x` instead</code></p>

<p>This is the  <code>unused_variables</code>  lint, and it tells you that you&rsquo;ve introduced a variable that you don&rsquo;t use in your code. That&rsquo;s not  <em>wrong</em>, so it&rsquo;s not an error, but it might be a bug, so you get a warning.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#lint-levels">https://doc.rust-lang.org/rustc/print.html#lint-levels</a>)</p>

<h1 id="lint-levels">Lint levels</h1>

<p>In  <code>rustc</code>, lints are divided into four  <em>levels</em>:</p>

<ol>
<li>allow</li>
<li>warn</li>
<li>deny</li>
<li>forbid</li>
</ol>

<p>Each lint has a default level (explained in the lint listing later in this chapter), and the compiler has a default warning level. First, let&rsquo;s explain what these levels mean, and then we&rsquo;ll talk about configuration.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#allow">https://doc.rust-lang.org/rustc/print.html#allow</a>)</p>

<h2 id="allow">allow</h2>

<p>These lints exist, but by default, do nothing. For example, consider this source:</p>

<p><code>pub fn foo() {}</code></p>

<p>Compiling this file produces no warnings:</p>

<p><code>$ rustc lib.rs --crate-type=lib
$</code></p>

<p>But this code violates the  <code>missing_docs</code>  lint.</p>

<p>These lints exist mostly to be manually turned on via configuration, as we&rsquo;ll talk about later in this section.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#warn">https://doc.rust-lang.org/rustc/print.html#warn</a>)</p>

<h2 id="warn">warn</h2>

<p>The &lsquo;warn&rsquo; lint level will produce a warning if you violate the lint. For example, this code runs afoul of the  <code>unused_variable</code>  lint:</p>

<p><code>pub fn foo() {
    let x = 5;
}</code></p>

<p>This will produce this warning:</p>

<p><code>$ rustc lib.rs --crate-type=lib
warning: unused variable: `x`
 --&gt; lib.rs:2:9
  |
2 |     let x = 5;
  |         ^
  |
  = note: #[warn(unused_variables)] on by default
  = note: to avoid this warning, consider using `_x` instead</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#deny">https://doc.rust-lang.org/rustc/print.html#deny</a>)</p>

<h2 id="deny">deny</h2>

<p>A &lsquo;deny&rsquo; lint produces an error if you violate it. For example, this code runs into the  <code>exceeding_bitshifts</code>  lint.</p>

<p><code>fn main() {
    100u8 &lt;&lt; 10;
}</code></p>

<p><code>$ rustc main.rs
error: bitshift exceeds the type's number of bits
 --&gt; main.rs:2:13
  |
2 |     100u8 &lt;&lt; 10;
  |     ^^^^^^^^^^^
  |
  = note: #[deny(exceeding_bitshifts)] on by default</code></p>

<p>What&rsquo;s the difference between an error from a lint and a regular old error? Lints are configurable via levels, so in a similar way to &lsquo;allow&rsquo; lints, warnings that are &lsquo;deny&rsquo; by default let you allow them. Similarly, you may wish to set up a lint that is  <code>warn</code>  by default to produce an error instead. This lint level gives you that.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#forbid">https://doc.rust-lang.org/rustc/print.html#forbid</a>)</p>

<h2 id="forbid">forbid</h2>

<p>&lsquo;forbid&rsquo; is a special lint level that&rsquo;s stronger than &lsquo;deny&rsquo;. It&rsquo;s the same as &lsquo;deny&rsquo; in that a lint at this level will produce an error, but unlike the &lsquo;deny&rsquo; level, the &lsquo;forbid&rsquo; level can not be overridden to be anything lower than an error. However, lint levels may still be capped with  <code>--cap-lints</code>  (see below) so  <code>rustc --cap-lints warn</code>  will make lints set to &lsquo;forbid&rsquo; just warn.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#configuring-warning-levels">https://doc.rust-lang.org/rustc/print.html#configuring-warning-levels</a>)</p>

<h2 id="configuring-warning-levels">Configuring warning levels</h2>

<p>Remember our  <code>missing_docs</code>  example from the &lsquo;allow&rsquo; lint level?</p>

<p><code>$ cat lib.rs
pub fn foo() {}
$ rustc lib.rs --crate-type=lib
$</code></p>

<p>We can configure this lint to operate at a higher level, both with compiler flags, as well as with an attribute in the source code.</p>

<p>You can also &ldquo;cap&rdquo; lints so that the compiler can choose to ignore certain lint levels. We&rsquo;ll talk about that last.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#via-compiler-flag">https://doc.rust-lang.org/rustc/print.html#via-compiler-flag</a>)</p>

<h3 id="via-compiler-flag">Via compiler flag</h3>

<p>The  <code>-A</code>,  <code>-W</code>,  <code>-D</code>, and  <code>-F</code>  flags let you turn one or more lints into allowed, warning, deny, or forbid levels, like this:</p>

<p>`<code>$ rustc lib.rs --crate-type=lib -W missing-docs
warning: missing documentation for crate
 --&gt; lib.rs:1:1
  |
1 | pub fn foo() {}
  | ^^^^^^^^^^^^
  |
  = note: requested on the command line with</code>-W missing-docs`</p>

<p>warning: missing documentation for a function
 &ndash;&gt; lib.rs:1:1
  |
1 | pub fn foo() {}
  | ^^^^^^^^^^^^``</p>

<p>`<code>$ rustc lib.rs --crate-type=lib -D missing-docs
error: missing documentation for crate
 --&gt; lib.rs:1:1
  |
1 | pub fn foo() {}
  | ^^^^^^^^^^^^
  |
  = note: requested on the command line with</code>-D missing-docs`</p>

<p>error: missing documentation for a function
 &ndash;&gt; lib.rs:1:1
  |
1 | pub fn foo() {}
  | ^^^^^^^^^^^^</p>

<p>error: aborting due to 2 previous errors``</p>

<p>You can also pass each flag more than once for changing multiple lints:</p>

<p><code>$ rustc lib.rs --crate-type=lib -D missing-docs -D unused-variables</code></p>

<p>And of course, you can mix these four flags together:</p>

<p><code>$ rustc lib.rs --crate-type=lib -D missing-docs -A unused-variables</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#via-an-attribute">https://doc.rust-lang.org/rustc/print.html#via-an-attribute</a>)</p>

<h3 id="via-an-attribute">Via an attribute</h3>

<p>You can also modify the lint level with a crate-wide attribute:</p>

<p>`$ cat lib.rs
#![warn(missing_docs)]</p>

<p>pub fn foo() {}
$ rustc lib.rs &ndash;crate-type=lib
warning: missing documentation for crate
 &ndash;&gt; lib.rs:1:1
  |
1 | / #![warn(missing_docs)]
2 | |
3 | | pub fn foo() {}
  | |_______________^
  |
note: lint level defined here
 &ndash;&gt; lib.rs:1:9
  |
1 | #![warn(missing_docs)]
  |         ^^^^^^^^^^^^</p>

<p>warning: missing documentation for a function
 &ndash;&gt; lib.rs:3:1
  |
3 | pub fn foo() {}
  | ^^^^^^^^^^^^`</p>

<p>All four,  <code>warn</code>,  <code>allow</code>,  <code>deny</code>, and  <code>forbid</code>  all work this way.</p>

<p>You can also pass in multiple lints per attribute:</p>

<p>`#![warn(missing_docs, unused_variables)]</p>

<p>pub fn foo() {}`</p>

<p>And use multiple attributes together:</p>

<p>`#![warn(missing_docs)]
#![deny(unused_variables)]</p>

<p>pub fn foo() {}`</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#capping-lints">https://doc.rust-lang.org/rustc/print.html#capping-lints</a>)</p>

<h3 id="capping-lints">Capping lints</h3>

<p><code>rustc</code>  supports a flag,  <code>--cap-lints LEVEL</code>  that sets the &ldquo;lint cap level.&rdquo; This is the maximum level for all lints. So for example, if we take our code sample from the &ldquo;deny&rdquo; lint level above:</p>

<p><code>fn main() {
    100u8 &lt;&lt; 10;
}</code></p>

<p>And we compile it, capping lints to warn:</p>

<p>`$ rustc lib.rs &ndash;cap-lints warn
warning: bitshift exceeds the type&rsquo;s number of bits
 &ndash;&gt; lib.rs:2:5
  |
2 |     100u8 &lt;&lt; 10;
  |     ^^^^^^^^^^^
  |
  = note: #[warn(exceeding_bitshifts)] on by default</p>

<p>warning: this expression will panic at run-time
 &ndash;&gt; lib.rs:2:5
  |
2 |     100u8 &lt;&lt; 10;
  |     ^^^^^^^^^^^ attempt to shift left with overflow`</p>

<p>It now only warns, rather than errors. We can go further and allow all lints:</p>

<p><code>$ rustc lib.rs --cap-lints allow
$</code></p>

<p>This feature is used heavily by Cargo; it will pass  <code>--cap-lints allow</code>  when compiling your dependencies, so that if they have any warnings, they do not pollute the output of your build.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#lint-groups">https://doc.rust-lang.org/rustc/print.html#lint-groups</a>)</p>

<h1 id="lint-groups">Lint Groups</h1>

<p><code>rustc</code>  has the concept of a &ldquo;lint group&rdquo;, where you can toggle several warnings through one name.</p>

<p>For example, the  <code>nonstandard-style</code>  lint sets  <code>non-camel-case-types</code>,  <code>non-snake-case</code>, and  <code>non-upper-case-globals</code>  all at once. So these are equivalent:</p>

<p><code>$ rustc -D nonstandard-style
$ rustc -D non-camel-case-types -D non-snake-case -D non-upper-case-globals</code></p>

<p>Here&rsquo;s a list of each lint group, and the lints that they are made up of:</p>

<p>group</p>

<p>description</p>

<p>lints</p>

<p>nonstandard-style</p>

<p>Violation of standard naming conventions</p>

<p>non-camel-case-types, non-snake-case, non-upper-case-globals</p>

<p>warnings</p>

<p>all lints that would be issuing warnings</p>

<p>all lints that would be issuing warnings</p>

<p>edition-2018</p>

<p>Lints that will be turned into errors in Rust 2018</p>

<p>tyvar-behind-raw-pointer</p>

<p>rust-2018-idioms</p>

<p>Lints to nudge you toward idiomatic features of Rust 2018</p>

<p>bare-trait-object, unreachable-pub</p>

<p>unused</p>

<p>These lints detect things being declared but not used</p>

<p>unused-imports, unused-variables, unused-assignments, dead-code, unused-mut, unreachable-code, unreachable-patterns, unused-must-use, unused-unsafe, path-statements, unused-attributes, unused-macros, unused-allocation, unused-doc-comment, unused-extern-crates, unused-features, unused-parens</p>

<p>future-incompatible</p>

<p>Lints that detect code that has future-compatibility problems</p>

<p>private-in-public, pub-use-of-private-extern-crate, patterns-in-fns-without-body, safe-extern-statics, invalid-type-param-default, legacy-directory-ownership, legacy-imports, legacy-constructor-visibility, missing-fragment-specifier, illegal-floating-point-literal-pattern, anonymous-parameters, parenthesized-params-in-types-and-modules, late-bound-lifetime-arguments, safe-packed-borrows, incoherent-fundamental-impls, tyvar-behind-raw-pointer, unstable-name-collision</p>

<p>Additionally, there&rsquo;s a  <code>bad-style</code>  lint group that&rsquo;s a deprecated alias for  <code>nonstandard-style</code>.</p>

<p>Finally, you can also see the table above by invoking  <code>rustc -W help</code>. This will give you the exact values for the specific compiler you have installed.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#lint-listing">https://doc.rust-lang.org/rustc/print.html#lint-listing</a>)</p>

<h1 id="lint-listing">Lint listing</h1>

<p>This section lists out all of the lints, grouped by their default lint levels.</p>

<p>You can also see this list by running  <code>rustc -W help</code>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#allowed-by-default-lints">https://doc.rust-lang.org/rustc/print.html#allowed-by-default-lints</a>)</p>

<h1 id="allowed-by-default-lints">Allowed-by-default lints</h1>

<p>These lints are all set to the &lsquo;allow&rsquo; level by default. As such, they won&rsquo;t show up unless you set them to a higher lint level with a flag or attribute.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#anonymous-parameters">https://doc.rust-lang.org/rustc/print.html#anonymous-parameters</a>)</p>

<h2 id="anonymous-parameters">anonymous-parameters</h2>

<p>This lint detects anonymous parameters. Some example code that triggers this lint:</p>

<p><code>trait Foo {
    fn foo(usize);
}</code></p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p><code>error: use of deprecated anonymous parameter
 --&gt; src/lib.rs:5:11
  |
5 |     fn foo(usize);
  |           ^
  |
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #41686 &lt;https://github.com/rust-lang/rust/issues/41686&gt;</code></p>

<p>This syntax is mostly a historical accident, and can be worked around quite easily:</p>

<p><code>trait Foo {
    fn foo(_: usize);
}</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#bare-trait-object">https://doc.rust-lang.org/rustc/print.html#bare-trait-object</a>)</p>

<h2 id="bare-trait-object">bare-trait-object</h2>

<p>This lint suggests using  <code>dyn Trait</code>  for trait objects. Some example code that triggers this lint:</p>

<p>`#![feature(dyn_trait)]</p>

<p>trait Trait { }</p>

<p>fn takes_trait<em>object(</em>: Box<Trait>) {
}`</p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p><code>error: trait objects without an explicit `dyn` are deprecated
 --&gt; src/lib.rs:7:30
  |
7 | fn takes_trait_object(_: Box&lt;Trait&gt;) {
  |                              ^^^^^ help: use `dyn`: `dyn Trait`
  |</code></p>

<p>To fix it, do as the help message suggests:</p>

<p>`#![feature(dyn_trait)]
#![deny(bare_trait_objects)]</p>

<p>trait Trait { }</p>

<p>fn takes_trait<em>object(</em>: Box<dyn Trait>) {
}`</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#box-pointers">https://doc.rust-lang.org/rustc/print.html#box-pointers</a>)</p>

<h2 id="box-pointers">box-pointers</h2>

<p>This lints use of the Box type. Some example code that triggers this lint:</p>

<p><code>struct Foo {
    x: Box&lt;isize&gt;,
}</code></p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p><code>error: type uses owned (Box type) pointers: std::boxed::Box&lt;isize&gt;
 --&gt; src/lib.rs:6:5
  |
6 |     x: Box&lt;isize&gt; //~ ERROR type uses owned
  |     ^^^^^^^^^^^^^
  |</code></p>

<p>This lint is mostly historical, and not particularly useful.  <code>Box&lt;T&gt;</code>  used to be built into the language, and the only way to do heap allocation. Today&rsquo;s Rust can call into other allocators, etc.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#elided-lifetime-in-path">https://doc.rust-lang.org/rustc/print.html#elided-lifetime-in-path</a>)</p>

<h2 id="elided-lifetime-in-path">elided-lifetime-in-path</h2>

<p>This lint detects the use of hidden lifetime parameters. Some example code that triggers this lint:</p>

<p>`struct Foo&lt;&lsquo;a&gt; {
    x: &amp;&lsquo;a u32
}</p>

<p>fn foo(x: &amp;Foo) {
}`</p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p><code>error: hidden lifetime parameters are deprecated, try `Foo&lt;'_&gt;`
 --&gt; src/lib.rs:5:12
  |
5 | fn foo(x: &amp;Foo) {
  |            ^^^
  |</code></p>

<p>Lifetime elision elides this lifetime, but that is being deprecated.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#missing-copy-implementations">https://doc.rust-lang.org/rustc/print.html#missing-copy-implementations</a>)</p>

<h2 id="missing-copy-implementations">missing-copy-implementations</h2>

<p>This lint detects potentially-forgotten implementations of  <code>Copy</code>. Some example code that triggers this lint:</p>

<p><code>pub struct Foo {
    pub field: i32
}</code></p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p><code>error: type could implement `Copy`; consider adding `impl Copy`
 --&gt; src/main.rs:3:1
  |
3 | / pub struct Foo { //~ ERROR type could implement `Copy`; consider adding `impl Copy`
4 | |     pub field: i32
5 | | }
  | |_^
  |</code></p>

<p>You can fix the lint by deriving  <code>Copy</code>.</p>

<p>This lint is set to &lsquo;allow&rsquo; because this code isn&rsquo;t bad; it&rsquo;s common to write newtypes like this specifically so that a  <code>Copy</code>  type is no longer  <code>Copy</code>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#missing-debug-implementations">https://doc.rust-lang.org/rustc/print.html#missing-debug-implementations</a>)</p>

<h2 id="missing-debug-implementations">missing-debug-implementations</h2>

<p>This lint detects missing implementations of  <code>fmt::Debug</code>. Some example code that triggers this lint:</p>

<p><code>pub struct Foo;</code></p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p><code>error: type does not implement `fmt::Debug`; consider adding #[derive(Debug)] or a manual implementation
 --&gt; src/main.rs:3:1
  |
3 | pub struct Foo;
  | ^^^^^^^^^^^^^^^
  |</code></p>

<p>You can fix the lint by deriving  <code>Debug</code>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#missing-docs">https://doc.rust-lang.org/rustc/print.html#missing-docs</a>)</p>

<h2 id="missing-docs">missing-docs</h2>

<p>This lint detects missing documentation for public items. Some example code that triggers this lint:</p>

<p><code>pub fn foo() {}</code></p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p>`error: missing documentation for crate
 &ndash;&gt; src/main.rs:1:1
  |
1 | / #![deny(missing_docs)]
2 | |
3 | | pub fn foo() {}
4 | |
5 | | fn main() {}
  | |____________^
  |</p>

<p>error: missing documentation for a function
 &ndash;&gt; src/main.rs:3:1
  |
3 | pub fn foo() {}
  | ^^^^^^^^^^^^`</p>

<p>To fix the lint, add documentation to all items.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#single-use-lifetime">https://doc.rust-lang.org/rustc/print.html#single-use-lifetime</a>)</p>

<h2 id="single-use-lifetime">single-use-lifetime</h2>

<p>This lint detects lifetimes that are only used once. Some example code that triggers this lint:</p>

<p><code>struct Foo&lt;'x&gt; {
    x: &amp;'x u32
}</code></p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p><code>error: lifetime name `'x` only used once
 --&gt; src/main.rs:3:12
  |
3 | struct Foo&lt;'x&gt; {
  |            ^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#trivial-casts">https://doc.rust-lang.org/rustc/print.html#trivial-casts</a>)</p>

<h2 id="trivial-casts">trivial-casts</h2>

<p>This lint detects trivial casts which could be removed. Some example code that triggers this lint:</p>

<p><code>let x: &amp;u32 = &amp;42;
let _ = x as *const u32;</code></p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p><code>error: trivial cast: `&amp;u32` as `*const u32`. Cast can be replaced by coercion, this might require type ascription or a temporary variable
 --&gt; src/main.rs:5:13
  |
5 |     let _ = x as *const u32;
  |             ^^^^^^^^^^^^^^^
  |
note: lint level defined here
 --&gt; src/main.rs:1:9
  |
1 | #![deny(trivial_casts)]
  |         ^^^^^^^^^^^^^</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#trivial-numeric-casts">https://doc.rust-lang.org/rustc/print.html#trivial-numeric-casts</a>)</p>

<h2 id="trivial-numeric-casts">trivial-numeric-casts</h2>

<p>This lint detects trivial casts of numeric types which could be removed. Some example code that triggers this lint:</p>

<p><code>let x = 42i32 as i32;</code></p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p><code>error: trivial numeric cast: `i32` as `i32`. Cast can be replaced by coercion, this might require type ascription or a temporary variable
 --&gt; src/main.rs:4:13
  |
4 |     let x = 42i32 as i32;
  |             ^^^^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unreachable-pub">https://doc.rust-lang.org/rustc/print.html#unreachable-pub</a>)</p>

<h2 id="unreachable-pub">unreachable-pub</h2>

<p>This lint triggers for  <code>pub</code>  items not reachable from the crate root. Some example code that triggers this lint:</p>

<p>`mod foo {
    pub mod bar {</p>

<pre><code>}
</code></pre>

<p>}`</p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p><code>error: unreachable `pub` item
 --&gt; src/main.rs:4:5
  |
4 |     pub mod bar {
  |     ---^^^^^^^^
  |     |
  |     help: consider restricting its visibility: `pub(crate)`
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unsafe-code">https://doc.rust-lang.org/rustc/print.html#unsafe-code</a>)</p>

<h2 id="unsafe-code">unsafe-code</h2>

<p>This lint catches usage of  <code>unsafe</code>  code. Some example code that triggers this lint:</p>

<p>`fn main() {
    unsafe {</p>

<pre><code>}
</code></pre>

<p>}`</p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p><code>error: usage of an `unsafe` block
 --&gt; src/main.rs:4:5
  |
4 | /     unsafe {
5 | |         
6 | |     }
  | |_____^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unstable-features">https://doc.rust-lang.org/rustc/print.html#unstable-features</a>)</p>

<h2 id="unstable-features">unstable-features</h2>

<p>This lint is deprecated and no longer used.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-extern-crates">https://doc.rust-lang.org/rustc/print.html#unused-extern-crates</a>)</p>

<h2 id="unused-extern-crates">unused-extern-crates</h2>

<p>This lint guards against  <code>extern crate</code>  items that are never used. Some example code that triggers this lint:</p>

<p><code>extern crate semver;</code></p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p><code>error: unused extern crate
 --&gt; src/main.rs:3:1
  |
3 | extern crate semver;
  | ^^^^^^^^^^^^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-import-braces">https://doc.rust-lang.org/rustc/print.html#unused-import-braces</a>)</p>

<h2 id="unused-import-braces">unused-import-braces</h2>

<p>This lint catches unnecessary braces around an imported item. Some example code that triggers this lint:</p>

<p>`use test::{A};</p>

<p>pub mod test {
    pub struct A;
}`</p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p><code>error: braces around A is unnecessary
 --&gt; src/main.rs:3:1
  |
3 | use test::{A};
  | ^^^^^^^^^^^^^^
  |</code></p>

<p>To fix it,  <code>use test::A;</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-qualifications">https://doc.rust-lang.org/rustc/print.html#unused-qualifications</a>)</p>

<h2 id="unused-qualifications">unused-qualifications</h2>

<p>This lint detects unnecessarily qualified names. Some example code that triggers this lint:</p>

<p>`mod foo {
    pub fn bar() {}
}</p>

<p>fn main() {
    use foo::bar;
    foo::bar();
}`</p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p><code>error: unnecessary qualification
 --&gt; src/main.rs:9:5
  |
9 |     foo::bar();
  |     ^^^^^^^^
  |</code></p>

<p>You can call  <code>bar()</code>  directly, without the  <code>foo::</code>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-results">https://doc.rust-lang.org/rustc/print.html#unused-results</a>)</p>

<h2 id="unused-results">unused-results</h2>

<p>This lint checks for the unused result of an expression in a statement. Some example code that triggers this lint:</p>

<p>`fn foo<T>() -&gt; T { panic!() }</p>

<p>fn main() {
    foo::<usize>();
}`</p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p><code>error: unused result
 --&gt; src/main.rs:6:5
  |
6 |     foo::&lt;usize&gt;();
  |     ^^^^^^^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#variant-size-differences">https://doc.rust-lang.org/rustc/print.html#variant-size-differences</a>)</p>

<h2 id="variant-size-differences">variant-size-differences</h2>

<p>This lint detects enums with widely varying variant sizes. Some example code that triggers this lint:</p>

<p><code>enum En {
    V0(u8),
    VBig([u8; 1024]),
}</code></p>

<p>When set to &lsquo;deny&rsquo;, this will produce:</p>

<p><code>error: enum variant is more than three times larger (1024 bytes) than the next largest
 --&gt; src/main.rs:5:5
  |
5 |     VBig([u8; 1024]),   //~ ERROR variant is more than three times larger
  |     ^^^^^^^^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#warn-by-default-lints">https://doc.rust-lang.org/rustc/print.html#warn-by-default-lints</a>)</p>

<h1 id="warn-by-default-lints">Warn-by-default lints</h1>

<p>These lints are all set to the &lsquo;warn&rsquo; level by default.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#const-err">https://doc.rust-lang.org/rustc/print.html#const-err</a>)</p>

<h2 id="const-err">const-err</h2>

<p>This lint detects an erroneous expression while doing constant evaluation. Some example code that triggers this lint:</p>

<p><code>let b = 200u8 + 200u8;</code></p>

<p>This will produce:</p>

<p><code>warning: attempt to add with overflow
 --&gt; src/main.rs:2:9
  |
2 | let b = 200u8 + 200u8;
  |         ^^^^^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#dead-code">https://doc.rust-lang.org/rustc/print.html#dead-code</a>)</p>

<h2 id="dead-code">dead-code</h2>

<p>This lint detects unused, unexported items. Some example code that triggers this lint:</p>

<p><code>fn foo() {}</code></p>

<p>This will produce:</p>

<p><code>warning: function is never used: `foo`
 --&gt; src/lib.rs:2:1
  |
2 | fn foo() {}
  | ^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#deprecated">https://doc.rust-lang.org/rustc/print.html#deprecated</a>)</p>

<h2 id="deprecated">deprecated</h2>

<p>This lint detects use of deprecated items. Some example code that triggers this lint:</p>

<p>`#[deprecated]
fn foo() {}</p>

<p>fn bar() {
    foo();
}`</p>

<p>This will produce:</p>

<p><code>warning: use of deprecated item 'foo'
 --&gt; src/lib.rs:7:5
  |
7 |     foo();
  |     ^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#illegal-floating-point-literal-pattern">https://doc.rust-lang.org/rustc/print.html#illegal-floating-point-literal-pattern</a>)</p>

<h2 id="illegal-floating-point-literal-pattern">illegal-floating-point-literal-pattern</h2>

<p>This lint detects floating-point literals used in patterns. Some example code that triggers this lint:</p>

<p>`let x = 42.0;</p>

<p>match x {
    5.0 =&gt; {},
    _ =&gt; {},
}`</p>

<p>This will produce:</p>

<p><code>warning: floating-point literals cannot be used in patterns
 --&gt; src/main.rs:4:9
  |
4 |         5.0 =&gt; {},
  |         ^^^
  |
  = note: #[warn(illegal_floating_point_literal_pattern)] on by default
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #41620 &lt;https://github.com/rust-lang/rust/issues/41620&gt;</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#improper-ctypes">https://doc.rust-lang.org/rustc/print.html#improper-ctypes</a>)</p>

<h2 id="improper-ctypes">improper-ctypes</h2>

<p>This lint detects proper use of libc types in foreign modules. Some example code that triggers this lint:</p>

<p><code>extern &quot;C&quot; {
    static STATIC: String;
}</code></p>

<p>This will produce:</p>

<p><code>warning: found struct without foreign-function-safe representation annotation in foreign module, consider adding a #[repr(C)] attribute to the type
 --&gt; src/main.rs:2:20
  |
2 |     static STATIC: String;
  |                    ^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#late-bound-lifetime-arguments">https://doc.rust-lang.org/rustc/print.html#late-bound-lifetime-arguments</a>)</p>

<h2 id="late-bound-lifetime-arguments">late-bound-lifetime-arguments</h2>

<p>This lint detects generic lifetime arguments in path segments with late bound lifetime parameters. Some example code that triggers this lint:</p>

<p>`struct S;</p>

<p>impl S {
    fn late&lt;&lsquo;a, &lsquo;b&gt;(self, _: &amp;&lsquo;a u8, _: &amp;&lsquo;b u8) {}
}</p>

<p>fn main() {
    S.late::&lt;&lsquo;static&gt;(&amp;0, &amp;0);
}`</p>

<p>This will produce:</p>

<p><code>warning: cannot specify lifetime arguments explicitly if late bound lifetime parameters are present
 --&gt; src/main.rs:8:14
  |
4 |     fn late&lt;'a, 'b&gt;(self, _: &amp;'a u8, _: &amp;'b u8) {}
  |             -- the late bound lifetime parameter is introduced here
...
8 |     S.late::&lt;'static&gt;(&amp;0, &amp;0);
  |              ^^^^^^^
  |
  = note: #[warn(late_bound_lifetime_arguments)] on by default
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #42868 &lt;https://github.com/rust-lang/rust/issues/42868&gt;</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#non-camel-case-types">https://doc.rust-lang.org/rustc/print.html#non-camel-case-types</a>)</p>

<h2 id="non-camel-case-types">non-camel-case-types</h2>

<p>This lint detects types, variants, traits and type parameters that don&rsquo;t have camel case names. Some example code that triggers this lint:</p>

<p><code>struct s;</code></p>

<p>This will produce:</p>

<p><code>warning: type `s` should have a camel case name such as `S`
 --&gt; src/main.rs:1:1
  |
1 | struct s;
  | ^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#non-shorthand-field-patterns">https://doc.rust-lang.org/rustc/print.html#non-shorthand-field-patterns</a>)</p>

<h2 id="non-shorthand-field-patterns">non-shorthand-field-patterns</h2>

<p>This lint detects using  <code>Struct { x: x }</code>  instead of  <code>Struct { x }</code>  in a pattern. Some example code that triggers this lint:</p>

<p>`struct Point {
    x: i32,
    y: i32,
}</p>

<p>fn main() {
    let p = Point {
        x: 5,
        y: 5,
    };</p>

<pre><code>match p {
    Point { x: x, y: y } =&gt; (),
}
</code></pre>

<p>}`</p>

<p>This will produce:</p>

<p>`<code>warning: the</code>x:` in this pattern is redundant
  &ndash;&gt; src/main.rs:14:17
   |
14 |         Point { x: x, y: y } =&gt; (),
   |                 &ndash;^^
   |                 |
   |                 help: remove this
   |</p>

<p>warning: the <code>y:</code> in this pattern is redundant
  &ndash;&gt; src/main.rs:14:23
   |
14 |         Point { x: x, y: y } =&gt; (),
   |                       &ndash;^^
   |                       |
   |                       help: remove this``</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#non-snake-case">https://doc.rust-lang.org/rustc/print.html#non-snake-case</a>)</p>

<h2 id="non-snake-case">non-snake-case</h2>

<p>This lint detects variables, methods, functions, lifetime parameters and modules that don&rsquo;t have snake case names. Some example code that triggers this lint:</p>

<p><code>let X = 5;</code></p>

<p>This will produce:</p>

<p><code>warning: variable `X` should have a snake case name such as `x`
 --&gt; src/main.rs:2:9
  |
2 |     let X = 5;
  |         ^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#non-upper-case-globals">https://doc.rust-lang.org/rustc/print.html#non-upper-case-globals</a>)</p>

<h2 id="non-upper-case-globals">non-upper-case-globals</h2>

<p>This lint detects static constants that don&rsquo;t have uppercase identifiers. Some example code that triggers this lint:</p>

<p><code>static x: i32 = 5;</code></p>

<p>This will produce:</p>

<p><code>warning: static variable `x` should have an upper case name such as `X`
 --&gt; src/main.rs:1:1
  |
1 | static x: i32 = 5;
  | ^^^^^^^^^^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#no-mangle-generic-items">https://doc.rust-lang.org/rustc/print.html#no-mangle-generic-items</a>)</p>

<h2 id="no-mangle-generic-items">no-mangle-generic-items</h2>

<p>This lint detects generic items must be mangled. Some example code that triggers this lint:</p>

<p>`#[no_mangle]
fn foo<T>(t: T) {</p>

<p>}`</p>

<p>This will produce:</p>

<p><code>warning: functions generic over types must be mangled
 --&gt; src/main.rs:2:1
  |
1 |   #[no_mangle]
  |   ------------ help: remove this attribute
2 | / fn foo&lt;T&gt;(t: T) {
3 | |
4 | | }
  | |_^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#path-statements">https://doc.rust-lang.org/rustc/print.html#path-statements</a>)</p>

<h2 id="path-statements">path-statements</h2>

<p>This lint detects path statements with no effect. Some example code that triggers this lint:</p>

<p>`let x = 42;</p>

<p>x;`</p>

<p>This will produce:</p>

<p><code>warning: path statement with no effect
 --&gt; src/main.rs:3:5
  |
3 |     x;
  |     ^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#patterns-in-fns-without-body">https://doc.rust-lang.org/rustc/print.html#patterns-in-fns-without-body</a>)</p>

<h2 id="patterns-in-fns-without-body">patterns-in-fns-without-body</h2>

<p>This lint detects patterns in functions without body were that were previously erroneously allowed. Some example code that triggers this lint:</p>

<p><code>trait Trait {
    fn foo(mut arg: u8);
}</code></p>

<p>This will produce:</p>

<p><code>warning: patterns aren't allowed in methods without bodies
 --&gt; src/main.rs:2:12
  |
2 |     fn foo(mut arg: u8);
  |            ^^^^^^^
  |
  = note: #[warn(patterns_in_fns_without_body)] on by default
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #35203 &lt;https://github.com/rust-lang/rust/issues/35203&gt;</code></p>

<p>To fix this, remove the pattern; it can be used in the implementation without being used in the definition. That is:</p>

<p>`trait Trait {
    fn foo(arg: u8);
}</p>

<p>impl Trait for i32 {
    fn foo(mut arg: u8) {</p>

<pre><code>}
</code></pre>

<p>}`</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#plugin-as-library">https://doc.rust-lang.org/rustc/print.html#plugin-as-library</a>)</p>

<h2 id="plugin-as-library">plugin-as-library</h2>

<p>This lint detects when compiler plugins are used as ordinary library in non-plugin crate. Some example code that triggers this lint:</p>

<p>`#![feature(plugin)]
#![plugin(macro_crate_test)]</p>

<p>extern crate macro_crate_test;`</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#private-in-public">https://doc.rust-lang.org/rustc/print.html#private-in-public</a>)</p>

<h2 id="private-in-public">private-in-public</h2>

<p>This lint detects private items in public interfaces not caught by the old implementation. Some example code that triggers this lint:</p>

<p>`pub trait Trait {
    type A;
}</p>

<p>pub struct S;</p>

<p>mod foo {
    struct Z;</p>

<pre><code>impl ::Trait for ::S {
    type A = Z;
}
</code></pre>

<p>}`</p>

<p>This will produce:</p>

<p><code>error[E0446]: private type `foo::Z` in public interface
  --&gt; src/main.rs:11:9
   |
11 |         type A = Z;
   |         ^^^^^^^^^^^ can't leak private type</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#private-no-mangle-fns">https://doc.rust-lang.org/rustc/print.html#private-no-mangle-fns</a>)</p>

<h2 id="private-no-mangle-fns">private-no-mangle-fns</h2>

<p>This lint detects functions marked  <code>#[no_mangle]</code>  that are also private. Given that private functions aren&rsquo;t exposed publicly, and  <code>#[no_mangle]</code>  controls the public symbol, this combination is erroneous. Some example code that triggers this lint:</p>

<p><code>#[no_mangle]
fn foo() {}</code></p>

<p>This will produce:</p>

<p><code>warning: function is marked #[no_mangle], but not exported
 --&gt; src/main.rs:2:1
  |
2 | fn foo() {}
  | -^^^^^^^^^^
  | |
  | help: try making it public: `pub`
  |</code></p>

<p>To fix this, either make it public or remove the  <code>#[no_mangle]</code>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#private-no-mangle-statics">https://doc.rust-lang.org/rustc/print.html#private-no-mangle-statics</a>)</p>

<h2 id="private-no-mangle-statics">private-no-mangle-statics</h2>

<p>This lint detects any statics marked  <code>#[no_mangle]</code>  that are private. Given that private statics aren&rsquo;t exposed publicly, and  <code>#[no_mangle]</code>  controls the public symbol, this combination is erroneous. Some example code that triggers this lint:</p>

<p><code>#[no_mangle]
static X: i32 = 4;</code></p>

<p>This will produce:</p>

<p><code>warning: static is marked #[no_mangle], but not exported
 --&gt; src/main.rs:2:1
  |
2 | static X: i32 = 4;
  | -^^^^^^^^^^^^^^^^^
  | |
  | help: try making it public: `pub`
  |</code></p>

<p>To fix this, either make it public or remove the  <code>#[no_mangle]</code>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#renamed-and-removed-lints">https://doc.rust-lang.org/rustc/print.html#renamed-and-removed-lints</a>)</p>

<h2 id="renamed-and-removed-lints">renamed-and-removed-lints</h2>

<p>This lint detects lints that have been renamed or removed. Some example code that triggers this lint:</p>

<p><code>#![deny(raw_pointer_derive)]</code></p>

<p>This will produce:</p>

<p><code>warning: lint raw_pointer_derive has been removed: using derive with raw pointers is ok
 --&gt; src/main.rs:1:9
  |
1 | #![deny(raw_pointer_derive)]
  |         ^^^^^^^^^^^^^^^^^^
  |</code></p>

<p>To fix this, either remove the lint or use the new name.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#safe-packed-borrows">https://doc.rust-lang.org/rustc/print.html#safe-packed-borrows</a>)</p>

<h2 id="safe-packed-borrows">safe-packed-borrows</h2>

<p>This lint detects borrowing a field in the interior of a packed structure with alignment other than 1. Some example code that triggers this lint:</p>

<p>`#[repr(packed)]
pub struct Unaligned<T>(pub T);</p>

<p>pub struct Foo {
    start: u8,
    data: Unaligned<u32>,
}</p>

<p>fn main() {
    let x = Foo { start: 0, data: Unaligned(1) };
    let y = &amp;x.data.0;
}`</p>

<p>This will produce:</p>

<p><code>warning: borrow of packed field requires unsafe function or block (error E0133)
  --&gt; src/main.rs:11:13
   |
11 |     let y = &amp;x.data.0;
   |             ^^^^^^^^^
   |
   = note: #[warn(safe_packed_borrows)] on by default
   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
   = note: for more information, see issue #46043 &lt;https://github.com/rust-lang/rust/issues/46043&gt;</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#stable-features">https://doc.rust-lang.org/rustc/print.html#stable-features</a>)</p>

<h2 id="stable-features">stable-features</h2>

<p>This lint detects a  <code>#[feature]</code>  attribute that&rsquo;s since been made stable. Some example code that triggers this lint:</p>

<p><code>#![feature(test_accepted_feature)]</code></p>

<p>This will produce:</p>

<p><code>warning: this feature has been stable since 1.0.0. Attribute no longer needed
 --&gt; src/main.rs:1:12
  |
1 | #![feature(test_accepted_feature)]
  |            ^^^^^^^^^^^^^^^^^^^^^
  |</code></p>

<p>To fix, simply remove the  <code>#![feature]</code>  attribute, as it&rsquo;s no longer needed.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#type-alias-bounds">https://doc.rust-lang.org/rustc/print.html#type-alias-bounds</a>)</p>

<h2 id="type-alias-bounds">type-alias-bounds</h2>

<p>This lint detects bounds in type aliases. These are not currently enforced. Some example code that triggers this lint:</p>

<p><code>type SendVec&lt;T: Send&gt; = Vec&lt;T&gt;;</code></p>

<p>This will produce:</p>

<p><code>warning: type alias is never used: `SendVec`
 --&gt; src/main.rs:1:1
  |
1 | type SendVec&lt;T: Send&gt; = Vec&lt;T&gt;;
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#tyvar-behind-raw-pointer">https://doc.rust-lang.org/rustc/print.html#tyvar-behind-raw-pointer</a>)</p>

<h2 id="tyvar-behind-raw-pointer">tyvar-behind-raw-pointer</h2>

<p>This lint detects raw pointer to an inference variable. Some example code that triggers this lint:</p>

<p>`let data = std::ptr::null();
let _ = &amp;data as *const *const ();</p>

<p>if data.is_null() {}`</p>

<p>This will produce:</p>

<p><code>warning: type annotations needed
 --&gt; src/main.rs:4:13
  |
4 |     if data.is_null() {}
  |             ^^^^^^^
  |
  = note: #[warn(tyvar_behind_raw_pointer)] on by default
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in the 2018 edition!
  = note: for more information, see issue #46906 &lt;https://github.com/rust-lang/rust/issues/46906&gt;</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unconditional-recursion">https://doc.rust-lang.org/rustc/print.html#unconditional-recursion</a>)</p>

<h2 id="unconditional-recursion">unconditional-recursion</h2>

<p>This lint detects functions that cannot return without calling themselves. Some example code that triggers this lint:</p>

<p><code>fn foo() {
    foo();
}</code></p>

<p>This will produce:</p>

<p><code>warning: function cannot return without recursing
 --&gt; src/main.rs:1:1
  |
1 | fn foo() {
  | ^^^^^^^^ cannot return without recursing
2 |     foo();
  |     ----- recursive call site
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unions-with-drop-fields">https://doc.rust-lang.org/rustc/print.html#unions-with-drop-fields</a>)</p>

<h2 id="unions-with-drop-fields">unions-with-drop-fields</h2>

<p>This lint detects use of unions that contain fields with possibly non-trivial drop code. Some example code that triggers this lint:</p>

<p>`#![feature(untagged_unions)]</p>

<p>union U {
    s: String,
}`</p>

<p>This will produce:</p>

<p><code>warning: union contains a field with possibly non-trivial drop code, drop code of union fields is ignored when dropping the union
 --&gt; src/main.rs:4:5
  |
4 |     s: String,
  |     ^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unknown-lints">https://doc.rust-lang.org/rustc/print.html#unknown-lints</a>)</p>

<h2 id="unknown-lints">unknown-lints</h2>

<p>This lint detects unrecognized lint attribute. Some example code that triggers this lint:</p>

<p><code>#[allow(not_a_real_lint)]</code></p>

<p>This will produce:</p>

<p><code>warning: unknown lint: `not_a_real_lint`
 --&gt; src/main.rs:1:10
  |
1 | #![allow(not_a_real_lint)]
  |          ^^^^^^^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unreachable-code">https://doc.rust-lang.org/rustc/print.html#unreachable-code</a>)</p>

<h2 id="unreachable-code">unreachable-code</h2>

<p>This lint detects unreachable code paths. Some example code that triggers this lint:</p>

<p>`panic!(&ldquo;we never go past here!&rdquo;);</p>

<p>let x = 5;`</p>

<p>This will produce:</p>

<p><code>warning: unreachable statement
 --&gt; src/main.rs:4:5
  |
4 |     let x = 5;
  |     ^^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unreachable-patterns">https://doc.rust-lang.org/rustc/print.html#unreachable-patterns</a>)</p>

<h2 id="unreachable-patterns">unreachable-patterns</h2>

<p>This lint detects unreachable patterns. Some example code that triggers this lint:</p>

<p><code>let x = 5;
match x {
    y =&gt; (),
    5 =&gt; (),
}</code></p>

<p>This will produce:</p>

<p><code>warning: unreachable pattern
 --&gt; src/main.rs:5:5
  |
5 |     5 =&gt; (),
  |     ^
  |</code></p>

<p>The  <code>y</code>  pattern will always match, so the five is impossible to reach. Remember, match arms match in order, you probably wanted to put the  <code>5</code>  case above the  <code>y</code>  case.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unstable-name-collision">https://doc.rust-lang.org/rustc/print.html#unstable-name-collision</a>)</p>

<h2 id="unstable-name-collision">unstable-name-collision</h2>

<p>This lint detects that you&rsquo;ve used a name that the standard library plans to add in the future, which means that your code may fail to compile without additional type annotations in the future. Either rename, or add those annotations now.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-allocation">https://doc.rust-lang.org/rustc/print.html#unused-allocation</a>)</p>

<h2 id="unused-allocation">unused-allocation</h2>

<p>This lint detects unnecessary allocations that can be eliminated.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-assignments">https://doc.rust-lang.org/rustc/print.html#unused-assignments</a>)</p>

<h2 id="unused-assignments">unused-assignments</h2>

<p>This lint detects assignments that will never be read. Some example code that triggers this lint:</p>

<p><code>let mut x = 5;
x = 6;</code></p>

<p>This will produce:</p>

<p><code>warning: value assigned to `x` is never read
 --&gt; src/main.rs:4:5
  |
4 |     x = 6;
  |     ^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-attributes">https://doc.rust-lang.org/rustc/print.html#unused-attributes</a>)</p>

<h2 id="unused-attributes">unused-attributes</h2>

<p>This lint detects attributes that were not used by the compiler. Some example code that triggers this lint:</p>

<p>`#![feature(custom_attribute)]</p>

<p>#![mutable_doc]`</p>

<p>This will produce:</p>

<p><code>warning: unused attribute
 --&gt; src/main.rs:4:1
  |
4 | #![mutable_doc]
  | ^^^^^^^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-comparisons">https://doc.rust-lang.org/rustc/print.html#unused-comparisons</a>)</p>

<h2 id="unused-comparisons">unused-comparisons</h2>

<p>This lint detects comparisons made useless by limits of the types involved. Some example code that triggers this lint:</p>

<p><code>fn foo(x: u8) {
    x &gt;= 0;
}</code></p>

<p>This will produce:</p>

<p><code>warning: comparison is useless due to type limits
 --&gt; src/main.rs:6:5
  |
6 |     x &gt;= 0;
  |     ^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-doc-comment">https://doc.rust-lang.org/rustc/print.html#unused-doc-comment</a>)</p>

<h2 id="unused-doc-comment">unused-doc-comment</h2>

<p>This lint detects doc comments that aren&rsquo;t used by rustdoc. Some example code that triggers this lint:</p>

<p><code>/// docs for x
let x = 12;</code></p>

<p>This will produce:</p>

<p><code>warning: doc comment not used by rustdoc
 --&gt; src/main.rs:2:5
  |
2 |     /// docs for x
  |     ^^^^^^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-features">https://doc.rust-lang.org/rustc/print.html#unused-features</a>)</p>

<h2 id="unused-features">unused-features</h2>

<p>This lint detects unused or unknown features found in crate-level #[feature] directives. To fix this, simply remove the feature flag.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-imports">https://doc.rust-lang.org/rustc/print.html#unused-imports</a>)</p>

<h2 id="unused-imports">unused-imports</h2>

<p>This lint detects imports that are never used. Some example code that triggers this lint:</p>

<p><code>use std::collections::HashMap;</code></p>

<p>This will produce:</p>

<p><code>warning: unused import: `std::collections::HashMap`
 --&gt; src/main.rs:1:5
  |
1 | use std::collections::HashMap;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-macros">https://doc.rust-lang.org/rustc/print.html#unused-macros</a>)</p>

<h2 id="unused-macros">unused-macros</h2>

<p>This lint detects macros that were not used. Some example code that triggers this lint:</p>

<p>`macro_rules! unused {
    () =&gt; {};
}</p>

<p>fn main() {
}`</p>

<p>This will produce:</p>

<p><code>warning: unused macro definition
 --&gt; src/main.rs:1:1
  |
1 | / macro_rules! unused {
2 | |     () =&gt; {};
3 | | }
  | |_^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-must-use">https://doc.rust-lang.org/rustc/print.html#unused-must-use</a>)</p>

<h2 id="unused-must-use">unused-must-use</h2>

<p>This lint detects unused result of a type flagged as #[must_use]. Some example code that triggers this lint:</p>

<p>`fn returns_result() -&gt; Result&lt;(), ()&gt; {
    Ok(())
}</p>

<p>fn main() {
    returns_result();
}`</p>

<p>This will produce:</p>

<p><code>warning: unused `std::result::Result` that must be used
 --&gt; src/main.rs:6:5
  |
6 |     returns_result();
  |     ^^^^^^^^^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-mut">https://doc.rust-lang.org/rustc/print.html#unused-mut</a>)</p>

<h2 id="unused-mut">unused-mut</h2>

<p>This lint detects mut variables which don&rsquo;t need to be mutable. Some example code that triggers this lint:</p>

<p><code>let mut x = 5;</code></p>

<p>This will produce:</p>

<p><code>warning: variable does not need to be mutable
 --&gt; src/main.rs:2:9
  |
2 |     let mut x = 5;
  |         ----^
  |         |
  |         help: remove this `mut`
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-parens">https://doc.rust-lang.org/rustc/print.html#unused-parens</a>)</p>

<h2 id="unused-parens">unused-parens</h2>

<p>This lint detects  <code>if</code>,  <code>match</code>,  <code>while</code>  and  <code>return</code>  with parentheses; they do not need them. Some example code that triggers this lint:</p>

<p><code>if(true) {}</code></p>

<p>This will produce:</p>

<p><code>warning: unnecessary parentheses around `if` condition
 --&gt; src/main.rs:2:7
  |
2 |     if(true) {}
  |       ^^^^^^ help: remove these parentheses
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-unsafe">https://doc.rust-lang.org/rustc/print.html#unused-unsafe</a>)</p>

<h2 id="unused-unsafe">unused-unsafe</h2>

<p>This lint detects unnecessary use of an  <code>unsafe</code>  block. Some example code that triggers this lint:</p>

<p><code>unsafe {}</code></p>

<p>This will produce:</p>

<p><code>warning: unnecessary `unsafe` block
 --&gt; src/main.rs:2:5
  |
2 |     unsafe {}
  |     ^^^^^^ unnecessary `unsafe` block
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unused-variables">https://doc.rust-lang.org/rustc/print.html#unused-variables</a>)</p>

<h2 id="unused-variables">unused-variables</h2>

<p>This lint detects variables which are not used in any way. Some example code that triggers this lint:</p>

<p><code>let x = 5;</code></p>

<p>This will produce:</p>

<p><code>warning: unused variable: `x`
 --&gt; src/main.rs:2:9
  |
2 |     let x = 5;
  |         ^ help: consider using `_x` instead
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#warnings">https://doc.rust-lang.org/rustc/print.html#warnings</a>)</p>

<h2 id="warnings">warnings</h2>

<p>This lint is a bit special; by changing its level, you change every other warning that would produce a warning to whatever value you&rsquo;d like:</p>

<p><code>#![deny(warnings)]</code></p>

<p>As such, you won&rsquo;t ever trigger this lint in your code directly.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#while-true">https://doc.rust-lang.org/rustc/print.html#while-true</a>)</p>

<h2 id="while-true">while-true</h2>

<p>This lint detects  <code>while true { }</code>. Some example code that triggers this lint:</p>

<p>`while true {</p>

<p>}`</p>

<p>This will produce:</p>

<p><code>warning: denote infinite loops with `loop { ... }`
 --&gt; src/main.rs:2:5
  |
2 |     while true {
  |     ^^^^^^^^^^ help: use `loop`
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#deny-by-default-lints">https://doc.rust-lang.org/rustc/print.html#deny-by-default-lints</a>)</p>

<h1 id="deny-by-default-lints">Deny-by-default lints</h1>

<p>These lints are all set to the &lsquo;deny&rsquo; level by default.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#exceeding-bitshifts">https://doc.rust-lang.org/rustc/print.html#exceeding-bitshifts</a>)</p>

<h2 id="exceeding-bitshifts">exceeding-bitshifts</h2>

<p>This lint detects that a shift exceeds the type&rsquo;s number of bits. Some example code that triggers this lint:</p>

<p><code>1_i32 &lt;&lt; 32;</code></p>

<p>This will produce:</p>

<p><code>error: bitshift exceeds the type's number of bits
 --&gt; src/main.rs:2:5
  |
2 |     1_i32 &lt;&lt; 32;
  |     ^^^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#invalid-type-param-default">https://doc.rust-lang.org/rustc/print.html#invalid-type-param-default</a>)</p>

<h2 id="invalid-type-param-default">invalid-type-param-default</h2>

<p>This lint detects type parameter default erroneously allowed in invalid location. Some example code that triggers this lint:</p>

<p><code>fn foo&lt;T=i32&gt;(t: T) {}</code></p>

<p>This will produce:</p>

<p><code>error: defaults for type parameters are only allowed in `struct`, `enum`, `type`, or `trait` definitions.
 --&gt; src/main.rs:4:8
  |
4 | fn foo&lt;T=i32&gt;(t: T) {}
  |        ^
  |
  = note: #[deny(invalid_type_param_default)] on by default
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #36887 &lt;https://github.com/rust-lang/rust/issues/36887&gt;</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#legacy-constructor-visibility">https://doc.rust-lang.org/rustc/print.html#legacy-constructor-visibility</a>)</p>

<h2 id="legacy-constructor-visibility">legacy-constructor-visibility</h2>

<p><a href="https://github.com/rust-lang/rfcs/blob/master/text/1506-adt-kinds.md">RFC 1506</a>  modified some visibility rules, and changed the visibility of struct constructors. Some example code that triggers this lint:</p>

<p>``mod m {
    pub struct S(u8);</p>

<pre><code>fn f() {
    // this is trying to use S from the 'use' line, but because the `u8` is
    // not pub, it is private
    ::S;
}
</code></pre>

<p>}</p>

<p>use m::S;``</p>

<p>This will produce:</p>

<p><code>error: private struct constructors are not usable through re-exports in outer modules
 --&gt; src/main.rs:5:9
  |
5 |         ::S;
  |         ^^^
  |
  = note: #[deny(legacy_constructor_visibility)] on by default
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #39207 &lt;https://github.com/rust-lang/rust/issues/39207&gt;</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#legacy-directory-ownership">https://doc.rust-lang.org/rustc/print.html#legacy-directory-ownership</a>)</p>

<h2 id="legacy-directory-ownership">legacy-directory-ownership</h2>

<p>The legacy_directory_ownership warning is issued when</p>

<ul>
<li>There is a non-inline module with a #[path] attribute (e.g. #[path = &ldquo;foo.rs&rdquo;] mod bar;),</li>
<li>The module&rsquo;s file (&ldquo;foo.rs&rdquo; in the above example) is not named &ldquo;mod.rs&rdquo;, and</li>
<li>The module&rsquo;s file contains a non-inline child module without a #[path] attribute.</li>
</ul>

<p>The warning can be fixed by renaming the parent module to &ldquo;mod.rs&rdquo; and moving it into its own directory if appropriate.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#missing-fragment-specifier">https://doc.rust-lang.org/rustc/print.html#missing-fragment-specifier</a>)</p>

<h2 id="missing-fragment-specifier">missing-fragment-specifier</h2>

<p>The missing_fragment_specifier warning is issued when an unused pattern in a  <code>macro_rules!</code>macro definition has a meta-variable (e.g.  <code>$e</code>) that is not followed by a fragment specifier (e.g.  <code>:expr</code>).</p>

<p>This warning can always be fixed by removing the unused pattern in the  <code>macro_rules!</code>  macro definition.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#mutable-transmutes">https://doc.rust-lang.org/rustc/print.html#mutable-transmutes</a>)</p>

<h2 id="mutable-transmutes">mutable-transmutes</h2>

<p>This lint catches transmuting from  <code>&amp;T</code>  to  <code>&amp;mut T</code>  because it is undefined behavior. Some example code that triggers this lint:</p>

<p><code>unsafe {
    let y = std::mem::transmute::&lt;&amp;i32, &amp;mut i32&gt;(&amp;5);
}</code></p>

<p>This will produce:</p>

<p><code>error: mutating transmuted &amp;mut T from &amp;T may cause undefined behavior, consider instead using an UnsafeCell
 --&gt; src/main.rs:3:17
  |
3 |         let y = std::mem::transmute::&lt;&amp;i32, &amp;mut i32&gt;(&amp;5);
  |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#no-mangle-const-items">https://doc.rust-lang.org/rustc/print.html#no-mangle-const-items</a>)</p>

<h2 id="no-mangle-const-items">no-mangle-const-items</h2>

<p>This lint detects any  <code>const</code>  items with the  <code>#[no_mangle]</code>  attribute. Constants do not have their symbols exported, and therefore, this probably means you meant to use a  <code>static</code>, not a  <code>const</code>. Some example code that triggers this lint:</p>

<p><code>#[no_mangle]
const FOO: i32 = 5;</code></p>

<p>This will produce:</p>

<p><code>error: const items should never be #[no_mangle]
 --&gt; src/main.rs:3:1
  |
3 | const FOO: i32 = 5;
  | -----^^^^^^^^^^^^^^
  | |
  | help: try a static value: `pub static`
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#overflowing-literals">https://doc.rust-lang.org/rustc/print.html#overflowing-literals</a>)</p>

<h2 id="overflowing-literals">overflowing-literals</h2>

<p>This lint detects literal out of range for its type. Some example code that triggers this lint:</p>

<p><code>let x: u8 = 1000;</code></p>

<p>This will produce:</p>

<p><code>error: literal out of range for u8
 --&gt; src/main.rs:2:17
  |
2 |     let x: u8 = 1000;
  |                 ^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#parenthesized-params-in-types-and-modules">https://doc.rust-lang.org/rustc/print.html#parenthesized-params-in-types-and-modules</a>)</p>

<h2 id="parenthesized-params-in-types-and-modules">parenthesized-params-in-types-and-modules</h2>

<p>This lint detects incorrect parentheses. Some example code that triggers this lint:</p>

<p><code>let x = 5 as usize();</code></p>

<p>This will produce:</p>

<p><code>error: parenthesized parameters may only be used with a trait
 --&gt; src/main.rs:2:21
  |
2 |   let x = 5 as usize();
  |                     ^^
  |
  = note: #[deny(parenthesized_params_in_types_and_modules)] on by default
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #42238 &lt;https://github.com/rust-lang/rust/issues/42238&gt;</code></p>

<p>To fix it, remove the  <code>()</code>s.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#pub-use-of-private-extern-crate">https://doc.rust-lang.org/rustc/print.html#pub-use-of-private-extern-crate</a>)</p>

<h2 id="pub-use-of-private-extern-crate">pub-use-of-private-extern-crate</h2>

<p>This lint detects a specific situation of re-exporting a private  <code>extern crate</code>;</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#safe-extern-statics">https://doc.rust-lang.org/rustc/print.html#safe-extern-statics</a>)</p>

<h2 id="safe-extern-statics">safe-extern-statics</h2>

<p>In older versions of Rust, there was a soundness issue where  <code>extern static</code>s were allowed to be accessed in safe code. This lint now catches and denies this kind of code.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#unknown-crate-types">https://doc.rust-lang.org/rustc/print.html#unknown-crate-types</a>)</p>

<h2 id="unknown-crate-types">unknown-crate-types</h2>

<p>This lint detects an unknown crate type found in a  <code>#[crate_type]</code>  directive. Some example code that triggers this lint:</p>

<p><code>#![crate_type=&quot;lol&quot;]</code></p>

<p>This will produce:</p>

<p><code>error: invalid `crate_type` value
 --&gt; src/lib.rs:1:1
  |
1 | #![crate_type=&quot;lol&quot;]
  | ^^^^^^^^^^^^^^^^^^^^
  |</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#incoherent-fundamental-impls">https://doc.rust-lang.org/rustc/print.html#incoherent-fundamental-impls</a>)</p>

<h2 id="incoherent-fundamental-impls">incoherent-fundamental-impls</h2>

<p>This lint detects potentially-conflicting impls that were erroneously allowed. Some example code that triggers this lint:</p>

<p>`pub trait Trait1<X> {
    type Output;
}</p>

<p>pub trait Trait2<X> {}</p>

<p>pub struct A;</p>

<p>impl<X, T> Trait1<X> for T where T: Trait2<X> {
    type Output = ();
}</p>

<p>impl<X> Trait1<Box<X>&gt; for A {
    type Output = i32;
}`</p>

<p>This will produce:</p>

<p><code>error: conflicting implementations of trait `Trait1&lt;std::boxed::Box&lt;_&gt;&gt;` for type `A`: (E0119)
  --&gt; src/main.rs:13:1
   |
9  | impl&lt;X, T&gt; Trait1&lt;X&gt; for T where T: Trait2&lt;X&gt; {
   | --------------------------------------------- first implementation here
...
13 | impl&lt;X&gt; Trait1&lt;Box&lt;X&gt;&gt; for A {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ conflicting implementation for `A`
   |
   = note: #[deny(incoherent_fundamental_impls)] on by default
   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
   = note: for more information, see issue #46205 &lt;https://github.com/rust-lang/rust/issues/46205&gt;
   = note: downstream crates may implement trait `Trait2&lt;std::boxed::Box&lt;_&gt;&gt;` for type `A`</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#codegen-options">https://doc.rust-lang.org/rustc/print.html#codegen-options</a>)</p>

<h1 id="codegen-options">Codegen options</h1>

<p>All of these options are passed to  <code>rustc</code>  via the  <code>-C</code>  flag, short for &ldquo;codegen.&rdquo; You can see a version of this list for your exact compiler by running  <code>rustc -C help</code>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#ar">https://doc.rust-lang.org/rustc/print.html#ar</a>)</p>

<h2 id="ar">ar</h2>

<p>This option is deprecated and does nothing.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#linker">https://doc.rust-lang.org/rustc/print.html#linker</a>)</p>

<h2 id="linker">linker</h2>

<p>This flag lets you control which linker  <code>rustc</code>  invokes to link your code.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#link-argval">https://doc.rust-lang.org/rustc/print.html#link-argval</a>)</p>

<h2 id="link-arg-val">link-arg=val</h2>

<p>This flag lets you append a single extra argument to the linker invocation.</p>

<p>&ldquo;Append&rdquo; is significant; you can pass this flag multiple times to add multiple arguments.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#link-args">https://doc.rust-lang.org/rustc/print.html#link-args</a>)</p>

<h2 id="link-args">link-args</h2>

<p>This flag lets you append multiple extra arguments to the linker invocation. The options should be separated by spaces.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#linker-flavor">https://doc.rust-lang.org/rustc/print.html#linker-flavor</a>)</p>

<h2 id="linker-flavor">linker-flavor</h2>

<p>This flag lets you control the linker flavor used by  <code>rustc</code>. If a linker is given with the  <code>-C linker</code>  flag described above then the linker flavor is inferred from the value provided. If no linker is given then the linker flavor is used to determine the linker to use. Every  <code>rustc</code>  target defaults to some linker flavor.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#link-dead-code">https://doc.rust-lang.org/rustc/print.html#link-dead-code</a>)</p>

<h2 id="link-dead-code">link-dead-code</h2>

<p>Normally, the linker will remove dead code. This flag disables this behavior.</p>

<p>An example of when this flag might be useful is when trying to construct code coverage metrics.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#lto">https://doc.rust-lang.org/rustc/print.html#lto</a>)</p>

<h2 id="lto">lto</h2>

<p>This flag instructs LLVM to use  <a href="https://llvm.org/docs/LinkTimeOptimization.html">link time optimizations</a>.</p>

<p>It takes one of two values,  <code>thin</code>  and  <code>fat</code>. &lsquo;thin&rsquo; LTO  <a href="http://blog.llvm.org/2016/06/thinlto-scalable-and-incremental-lto.html">is a new feature of LLVM</a>, &lsquo;fat&rsquo; referring to the classic version of LTO.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#target-cpu">https://doc.rust-lang.org/rustc/print.html#target-cpu</a>)</p>

<h2 id="target-cpu">target-cpu</h2>

<p>This instructs  <code>rustc</code>  to generate code specifically for a particular processor.</p>

<p>You can run  <code>rustc --print target-cpus</code>  to see the valid options to pass here. Additionally,  <code>native</code>can be passed to use the processor of the host machine.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#target-feature">https://doc.rust-lang.org/rustc/print.html#target-feature</a>)</p>

<h2 id="target-feature">target-feature</h2>

<p>Individual targets will support different features; this flag lets you control enabling or disabling a feature.</p>

<p>To see the valid options and an example of use, run  <code>rustc --print target-features</code>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#passes">https://doc.rust-lang.org/rustc/print.html#passes</a>)</p>

<h2 id="passes">passes</h2>

<p>This flag can be used to add extra LLVM passes to the compilation.</p>

<p>The list must be separated by spaces.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#llvm-args">https://doc.rust-lang.org/rustc/print.html#llvm-args</a>)</p>

<h2 id="llvm-args">llvm-args</h2>

<p>This flag can be used to pass a list of arguments directly to LLVM.</p>

<p>The list must be separated by spaces.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#save-temps">https://doc.rust-lang.org/rustc/print.html#save-temps</a>)</p>

<h2 id="save-temps">save-temps</h2>

<p><code>rustc</code>  will generate temporary files during compilation; normally it will delete them after it&rsquo;s done with its work. This option will cause them to be preserved instead of removed.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#rpath">https://doc.rust-lang.org/rustc/print.html#rpath</a>)</p>

<h2 id="rpath">rpath</h2>

<p>This option allows you to set the value of  <a href="https://en.wikipedia.org/wiki/Rpath"><code>rpath</code></a>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#overflow-checks">https://doc.rust-lang.org/rustc/print.html#overflow-checks</a>)</p>

<h2 id="overflow-checks">overflow-checks</h2>

<p>This flag allows you to control the behavior of integer overflow. This flag can be passed many options:</p>

<ul>
<li>To turn overflow checks on:  <code>y</code>,  <code>yes</code>, or  <code>on</code>.</li>
<li>To turn overflow checks off:  <code>n</code>,  <code>no</code>, or  <code>off</code>.</li>
</ul>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#no-prepopulate-passes">https://doc.rust-lang.org/rustc/print.html#no-prepopulate-passes</a>)</p>

<h2 id="no-prepopulate-passes">no-prepopulate-passes</h2>

<p>The pass manager comes pre-populated with a list of passes; this flag ensures that list is empty.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#no-vectorize-loops">https://doc.rust-lang.org/rustc/print.html#no-vectorize-loops</a>)</p>

<h2 id="no-vectorize-loops">no-vectorize-loops</h2>

<p>By default,  <code>rustc</code>  will attempt to  <a href="https://llvm.org/docs/Vectorizers.html#the-loop-vectorizer">vectorize loops</a>. This flag will turn that behavior off.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#no-vectorize-slp">https://doc.rust-lang.org/rustc/print.html#no-vectorize-slp</a>)</p>

<h2 id="no-vectorize-slp">no-vectorize-slp</h2>

<p>By default,  <code>rustc</code>  will attempt to vectorize loops using  <a href="https://llvm.org/docs/Vectorizers.html#the-slp-vectorizer">superword-level parallelism</a>. This flag will turn that behavior off.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#soft-float">https://doc.rust-lang.org/rustc/print.html#soft-float</a>)</p>

<h2 id="soft-float">soft-float</h2>

<p>This option will make  <code>rustc</code>  generate code using &ldquo;soft floats.&rdquo; By default, a lot of hardware supports floating point instructions, and so the code generated will take advantage of this. &ldquo;soft floats&rdquo; emulate floating point instructions in software.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#prefer-dynamic">https://doc.rust-lang.org/rustc/print.html#prefer-dynamic</a>)</p>

<h2 id="prefer-dynamic">prefer-dynamic</h2>

<p>By default,  <code>rustc</code>  prefers to statically link dependencies. This option will make it use dynamic linking instead.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#no-integrated-as">https://doc.rust-lang.org/rustc/print.html#no-integrated-as</a>)</p>

<h2 id="no-integrated-as">no-integrated-as</h2>

<p>LLVM comes with an internal assembler; this option will let you use an external assembler instead.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#no-redzone">https://doc.rust-lang.org/rustc/print.html#no-redzone</a>)</p>

<h2 id="no-redzone">no-redzone</h2>

<p>This flag allows you to disable  <a href="https://en.wikipedia.org/wiki/Red_zone_(computing)">the red zone</a>. This flag can be passed many options:</p>

<ul>
<li>To enable the red zone:  <code>y</code>,  <code>yes</code>, or  <code>on</code>.</li>
<li>To disable it:  <code>n</code>,  <code>no</code>, or  <code>off</code>.</li>
</ul>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#relocation-model">https://doc.rust-lang.org/rustc/print.html#relocation-model</a>)</p>

<h2 id="relocation-model">relocation-model</h2>

<p>This option lets you choose which relocation model to use.</p>

<p>To find the valid options for this flag, run  <code>rustc --print relocation-models</code>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#code-modelval">https://doc.rust-lang.org/rustc/print.html#code-modelval</a>)</p>

<h2 id="code-model-val">code-model=val</h2>

<p>This option lets you choose which code model to use.</p>

<p>To find the valid options for this flag, run  <code>rustc --print code-models</code>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#metadata">https://doc.rust-lang.org/rustc/print.html#metadata</a>)</p>

<h2 id="metadata">metadata</h2>

<p>This option allows you to control the metadata used for symbol mangling.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#extra-filename">https://doc.rust-lang.org/rustc/print.html#extra-filename</a>)</p>

<h2 id="extra-filename">extra-filename</h2>

<p>This option allows you to put extra data in each output filename.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#codegen-units">https://doc.rust-lang.org/rustc/print.html#codegen-units</a>)</p>

<h2 id="codegen-units">codegen-units</h2>

<p>This flag lets you control how many threads are used when doing code generation.</p>

<p>Increasing parallelism may speed up compile times, but may also produce slower code.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#remark">https://doc.rust-lang.org/rustc/print.html#remark</a>)</p>

<h2 id="remark">remark</h2>

<p>This flag lets you print remarks for these optimization passes.</p>

<p>The list of passes should be separated by spaces.</p>

<p><code>all</code>  will remark on every pass.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#no-stack-check">https://doc.rust-lang.org/rustc/print.html#no-stack-check</a>)</p>

<h2 id="no-stack-check">no-stack-check</h2>

<p>This option is deprecated and does nothing.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#debuginfo">https://doc.rust-lang.org/rustc/print.html#debuginfo</a>)</p>

<h2 id="debuginfo">debuginfo</h2>

<p>This flag lets you control debug information:</p>

<ul>
<li><code>0</code>: no debug info at all</li>
<li><code>1</code>: line tables only</li>
<li><code>2</code>: full debug info</li>
</ul>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#opt-level">https://doc.rust-lang.org/rustc/print.html#opt-level</a>)</p>

<h2 id="opt-level">opt-level</h2>

<p>This flag lets you control the optimization level.</p>

<ul>
<li><code>0</code>: no optimizations, also turn on  <code>cfg(debug_assertions)</code>.</li>
<li><code>1</code>: basic optimizations</li>
<li><code>2</code>: some optimizations</li>
<li><code>3</code>: all optimizations</li>
<li><code>s</code>: optimize for binary size</li>
<li><code>z</code>: optimize for binary size, but also turn off loop vectorization.</li>
</ul>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#debug-assertions">https://doc.rust-lang.org/rustc/print.html#debug-assertions</a>)</p>

<h2 id="debug-assertions">debug-assertions</h2>

<p>This flag lets you turn  <code>cfg(debug_assertions)</code>  on or off.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#inline-threshold">https://doc.rust-lang.org/rustc/print.html#inline-threshold</a>)</p>

<h2 id="inline-threshold">inline-threshold</h2>

<p>This option lets you set the threshold for inlining a function.</p>

<p>The default is 225.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#panic">https://doc.rust-lang.org/rustc/print.html#panic</a>)</p>

<h2 id="panic">panic</h2>

<p>This option lets you control what happens when the code panics.</p>

<ul>
<li><code>abort</code>: terminate the process upon panic</li>
<li><code>unwind</code>: unwind the stack upon panic</li>
</ul>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#incremental">https://doc.rust-lang.org/rustc/print.html#incremental</a>)</p>

<h2 id="incremental">incremental</h2>

<p>This flag allows you to enable incremental compilation.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#targets">https://doc.rust-lang.org/rustc/print.html#targets</a>)</p>

<h1 id="targets">Targets</h1>

<p><code>rustc</code>  is a cross-compiler by default. This means that you can use any compiler to build for any architecture. The list of  <em>targets</em>  are the possible architectures that you can build for.</p>

<p>To see all the options that you can set with a target, see the docs  <a href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_target/spec/struct.Target.html">here</a>.</p>

<p>To compile to a particular target, use the  <code>--target</code>  flag:</p>

<p><code>$ rustc src/main.rs --target=wasm32-unknown-unknown</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#built-in-targets">https://doc.rust-lang.org/rustc/print.html#built-in-targets</a>)</p>

<h1 id="built-in-targets">Built-in Targets</h1>

<p><code>rustc</code>  ships with the ability to compile to many targets automatically, we call these &ldquo;built-in&rdquo; targets, and they generally correspond to targets that the team is supporting directly.</p>

<p>To see the list of built-in targets, you can run  <code>rustc --print target-list</code>, or look at  <a href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_target/spec/index.html#modules">the API docs</a>. Each module there defines a builder for a particular target.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#custom-targets">https://doc.rust-lang.org/rustc/print.html#custom-targets</a>)</p>

<h1 id="custom-targets">Custom Targets</h1>

<p>If you&rsquo;d like to build for a target that is not yet supported by  <code>rustc</code>, you can use a &ldquo;custom target specification&rdquo; to define a target. These target specification files are JSON. To see the JSON for the host target, you can run:</p>

<p><code>$ rustc +nightly -Z unstable-options --print target-spec-json</code></p>

<p>To see it for a different target, add the  <code>--target</code>  flag:</p>

<p><code>$ rustc +nightly -Z unstable-options --target=wasm32-unknown-unknown --print target-spec-json</code></p>

<p>To use a custom target, see  <a href="https://github.com/japaric/xargo"><code>xargo</code></a>.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#linker-plugin-lto">https://doc.rust-lang.org/rustc/print.html#linker-plugin-lto</a>)</p>

<h1 id="linker-plugin-lto">Linker-plugin-LTO</h1>

<p>The  <code>-C linker-plugin-lto</code>  flag allows for deferring the LTO optimization to the actual linking step, which in turn allows for performing interprocedural optimizations across programming language boundaries if all the object files being linked were created by LLVM based toolchains. The prime example here would be linking Rust code together with Clang-compiled C/C++ code.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#usage">https://doc.rust-lang.org/rustc/print.html#usage</a>)</p>

<h2 id="usage">Usage</h2>

<p>There are two main cases how linker plugin based LTO can be used:</p>

<ul>
<li>compiling a Rust  <code>staticlib</code>  that is used as a C ABI dependency</li>
<li>compiling a Rust binary where  <code>rustc</code>  invokes the linker</li>
</ul>

<p>In both cases the Rust code has to be compiled with  <code>-C linker-plugin-lto</code>  and the C/C++ code with  <code>-flto</code>  or  <code>-flto=thin</code>  so that object files are emitted as LLVM bitcode.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#rust-staticlib-as-dependency-in-cc-program">https://doc.rust-lang.org/rustc/print.html#rust-staticlib-as-dependency-in-cc-program</a>)</p>

<h3 id="rust-staticlib-as-dependency-in-c-c-program">Rust  <code>staticlib</code>  as dependency in C/C++ program</h3>

<p>In this case the Rust compiler just has to make sure that the object files in the  <code>staticlib</code>  are in the right format. For linking, a linker with the LLVM plugin must be used (e.g. LLD).</p>

<p>Using  <code>rustc</code>  directly:</p>

<p>``# Compile the Rust staticlib
rustc &ndash;crate-type=staticlib -Clinker-plugin-lto -Copt-level=2 ./lib.rs</p>

<h1 id="compile-the-c-code-with-flto-thin">Compile the C code with <code>-flto=thin</code></h1>

<p>clang -c -O2 -flto=thin -o main.o ./main.c</p>

<h1 id="link-everything-making-sure-that-we-use-an-appropriate-linker">Link everything, making sure that we use an appropriate linker</h1>

<p>clang -flto=thin -fuse-ld=lld -L . -l&rdquo;name-of-your-rust-lib&rdquo; -o main -O2 ./cmain.o``</p>

<p>Using  <code>cargo</code>:</p>

<p>``# Compile the Rust staticlib
RUSTFLAGS=&ldquo;-Clinker-plugin-lto&rdquo; cargo build &ndash;release</p>

<h1 id="compile-the-c-code-with-flto-thin-1">Compile the C code with <code>-flto=thin</code></h1>

<p>clang -c -O2 -flto=thin -o main.o ./main.c</p>

<h1 id="link-everything-making-sure-that-we-use-an-appropriate-linker-1">Link everything, making sure that we use an appropriate linker</h1>

<p>clang -flto=thin -fuse-ld=lld -L . -l&rdquo;name-of-your-rust-lib&rdquo; -o main -O2 ./cmain.o``</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#cc-code-as-a-dependency-in-rust">https://doc.rust-lang.org/rustc/print.html#cc-code-as-a-dependency-in-rust</a>)</p>

<h3 id="c-c-code-as-a-dependency-in-rust">C/C++ code as a dependency in Rust</h3>

<p>In this case the linker will be invoked by  <code>rustc</code>. We again have to make sure that an appropriate linker is used.</p>

<p>Using  <code>rustc</code>  directly:</p>

<p>`<code># Compile C code with</code>-flto`
clang ./clib.c -flto=thin -c -o ./clib.o -O2</p>

<h1 id="create-a-static-library-from-the-c-code">Create a static library from the C code</h1>

<p>ar crus ./libxyz.a ./clib.o</p>

<h1 id="invoke-rustc-with-the-additional-arguments">Invoke <code>rustc</code> with the additional arguments</h1>

<p>rustc -Clinker-plugin-lto -L. -Copt-level=2 -Clinker=clang -Clink-arg=-fuse-ld=lld ./main.rs``</p>

<p>Using  <code>cargo</code>  directly:</p>

<p>`<code># Compile C code with</code>-flto`
clang ./clib.c -flto=thin -c -o ./clib.o -O2</p>

<h1 id="create-a-static-library-from-the-c-code-1">Create a static library from the C code</h1>

<p>ar crus ./libxyz.a ./clib.o</p>

<h1 id="set-the-linking-arguments-via-rustflags">Set the linking arguments via RUSTFLAGS</h1>

<p>RUSTFLAGS=&ldquo;-Clinker-plugin-lto -Clinker=clang -Clink-arg=-fuse-ld=lld&rdquo; cargo build &ndash;release``</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#explicitly-specifying-the-linker-plugin-to-be-used-by-rustc">https://doc.rust-lang.org/rustc/print.html#explicitly-specifying-the-linker-plugin-to-be-used-by-rustc</a>)</p>

<h3 id="explicitly-specifying-the-linker-plugin-to-be-used-by-rustc">Explicitly specifying the linker plugin to be used by  <code>rustc</code></h3>

<p>If one wants to use a linker other than LLD, the LLVM linker plugin has to be specified explicitly. Otherwise the linker cannot read the object files. The path to the plugin is passed as an argument to the  <code>-Clinker-plugin-lto</code>  option:</p>

<p><code>rustc -Clinker-plugin-lto=&quot;/path/to/LLVMgold.so&quot; -L. -Copt-level=2 ./main.rs</code></p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#toolchain-compatibility">https://doc.rust-lang.org/rustc/print.html#toolchain-compatibility</a>)</p>

<h2 id="toolchain-compatibility">Toolchain Compatibility</h2>

<p>In order for this kind of LTO to work, the LLVM linker plugin must be able to handle the LLVM bitcode produced by both  <code>rustc</code>  and  <code>clang</code>.</p>

<p>Best results are achieved by using a  <code>rustc</code>  and  <code>clang</code>  that are based on the exact same version of LLVM. One can use  <code>rustc -vV</code>  in order to view the LLVM used by a given  <code>rustc</code>  version. Note that the version number given here is only an approximation as Rust sometimes uses unstable revisions of LLVM. However, the approximation is usually reliable.</p>

<p>The following table shows known good combinations of toolchain versions.</p>

<p>Clang 7</p>

<p>Clang 8</p>

<p>Rust 1.34</p>

<p></p>

<p></p>

<p>Rust 1.35</p>

<p></p>

<p>(?)</p>

<p>Note that the compatibility policy for this feature might change in the future.</p>

<p>[](<a href="https://doc.rust-lang.org/rustc/print.html#contributing-to-rustc">https://doc.rust-lang.org/rustc/print.html#contributing-to-rustc</a>)</p>

<h1 id="contributing-to-rustc">Contributing to rustc</h1>

<p>We&rsquo;d love to have your help improving  <code>rustc</code>! To that end, we&rsquo;ve written  <a href="https://rust-lang.github.io/rustc-guide/">a whole book</a>  on its internals, how it works, and how to get started working on it. To learn more, you&rsquo;ll want to check that out.</p>

<p>If you would like to contribute to  <em>this</em>  book, you can find its source in the rustc source at  <a href="https://github.com/rust-lang/rust/tree/master/src/doc/rustc">src/doc/rustc</a>.</p>

</div>


    </main>

    
  </body>
</html>
